dir = "C:/TEMP/WRB.Sufi2.SwatCup"
setwd(dir)

# add data to point sources
1/1/78

files_ps = list.files(pattern="[0-9]+p\\.dat$")
files_ps = files_ps[file.info(files_ps)$size > 1e3]

new_dates = seq(as.Date("1978-01-01"), as.Date("1989-12-31"), "1 day")
days = format(as.integer(format(new_dates, "%j")), width=4, flag=" ")
years = format(new_dates, "%Y")
new_dates_f = paste(days, years)

filler="0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00 0.0000000000E+00"
new_lines=paste(new_dates_f, filler)
header = readLines(files_ps[1], 6)

for (f in files_ps) {
	dat = readLines(f)
	d = dat[7:length(dat)]
	dat = c(header,new_lines,d)
	writeLines(dat, f)
}

days = format(new_dates, "%j")
new_dates_f = paste(years, days, sep="")

pcp_filler = "-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0"
pcp_filler = paste(new_dates_f, pcp_filler, sep="")
tmp_filler = "-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0-99.0"
tmp_filler = paste(new_dates_f, tmp_filler, sep="")

pcp1 = readLines("pcp1.pcp")
pcp1 = c(pcp1[1:4], pcp_filler, pcp1[5:length(pcp1)])
writeLines(pcp1, "pcp1.pcp")

tmp1 = readLines("tmp1.tmp")
tmp1 = c(tmp1[1:4], tmp_filler, tmp1[5:length(tmp1)])
writeLines(tmp1, "tmp1.tmp")

clim_filler = "-99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000 -99.000"
clim_filler = paste(new_dates_f, clim_filler)

for (cf in c("hmd.hmd", "slr.slr", "wnd.wnd")) {
	clim = readLines(cf)
	clim = c(clim[1], clim_filler, clim[2:length(pcp1)])
	writeLines(clim, cf)
}

files_rsv = list.files(pattern="\\.day$")
for (rf in files_rsv) {
	rsv = readLines(rf)
	copy_vals = rsv[2:(length(new_dates) + 1)]
	rsv = c(rsv[1], copy_vals, rsv[2:length(rsv)])
	writeLines(rsv, rf)
}
